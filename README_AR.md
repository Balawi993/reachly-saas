# Reachly - منصة التواصل عبر Twitter

## نظرة عامة
Reachly هو تطبيق لإدارة حملات الرسائل المباشرة على Twitter/X باستخدام الكوكيز.

## المميزات
✅ إدارة حسابات Twitter متعددة  
✅ إنشاء حملات رسائل مباشرة  
✅ استخراج المتابعين من أي حساب  
✅ إرسال رسائل تلقائية مع تخصيص  
✅ تتبع الإحصائيات والتقدم  
✅ التحكم في سرعة الإرسال (Rate Limiting)  

## التثبيت

### المتطلبات
- Node.js 18+
- npm أو yarn

### الخطوات

1. **تثبيت المكتبات**
```bash
npm install
```

2. **إعداد المفاتيح**
الملف `.env.local` موجود بالفعل مع مفاتيح التشفير

3. **تشغيل التطبيق**
```bash
npm run dev:all
```

هذا سيشغل:
- Frontend على `http://localhost:8080`
- Backend API على `http://localhost:3001`

## الاستخدام

### 1. إنشاء حساب
- افتح `http://localhost:8080`
- اضغط على "Sign Up"
- أدخل بياناتك

### 2. إضافة حساب Twitter
- اذهب إلى "Accounts"
- اضغط "Add Account"
- أدخل اسم المستخدم (بدون @)
- الصق الكوكيز من المتصفح

#### كيفية الحصول على الكوكيز:
1. افتح Twitter في المتصفح
2. سجل دخول
3. اضغط F12
4. اذهب إلى Application → Cookies → x.com
5. انسخ `auth_token` و `ct0`
6. الصق بهذه الصيغة:
```json
{
  "auth_token": "القيمة_هنا",
  "ct0": "القيمة_هنا"
}
```

### 3. إنشاء حملة
- اذهب إلى "Campaigns"
- اضغط "New Campaign"
- اتبع الخطوات:
  1. **Basics**: اسم الحملة والحساب
  2. **Targets**: اختر الأهداف (يدوي أو استخراج متابعين)
  3. **Message**: اكتب قالب الرسالة
  4. **Pacing**: حدد سرعة الإرسال
  5. **Review**: راجع وأنشئ

### 4. بدء الحملة
- اذهب إلى تفاصيل الحملة
- اضغط زر "Play" لبدء الإرسال
- يمكنك إيقاف مؤقت (Pause) أو إيقاف نهائي (Stop)

## البنية التقنية

### Frontend
- React + TypeScript
- Vite
- Tailwind CSS
- shadcn/ui

### Backend
- Express.js
- SQLite (better-sqlite3)
- JWT للمصادقة
- AES-256 لتشفير الكوكيز

### الملفات المهمة
```
server/
├── index.ts          # Express server
├── db.ts             # قاعدة البيانات والتشفير
├── auth.ts           # المصادقة
├── twitter.ts        # التواصل مع Twitter API
└── campaign-runner.ts # محرك الحملات

src/
├── lib/
│   └── api.ts        # API client
├── pages/            # الصفحات
└── components/       # المكونات
```

## الأمان

⚠️ **مهم جداً**:
- الكوكيز مشفرة في قاعدة البيانات
- لا تشارك ملف `.env.local` مع أحد
- لا تشارك قاعدة البيانات `reachly.db`
- استخدم حساب اختبار أولاً

## Rate Limits

Twitter لديه حدود:
- 500 DM/يوم (حسابات قديمة)
- 50-100 DM/يوم (حسابات جديدة)
- 15 طلب/15 دقيقة للـ API

التطبيق يحترم هذه الحدود تلقائياً.

## استكشاف الأخطاء

⚠️ **للحصول على دليل كامل لحل المشاكل، راجع:** `TROUBLESHOOTING.md`

### خطأ: "Unauthorized"
- تأكد من تسجيل الدخول
- الـ token قد يكون منتهي الصلاحية

### خطأ: "Invalid credentials" أو الحساب يظهر "Invalid"
- الكوكيز منتهية الصلاحية
- احصل على كوكيز جديدة من Twitter
- تأكد من تسجيل الدخول في Twitter
- راجع `TROUBLESHOOTING.md` للتفاصيل

### خطأ: "User not found"
- تأكد من اسم المستخدم صحيح (بدون @)
- الحساب قد يكون محمي أو محذوف
- تحقق من كتابة الاسم بشكل صحيح

### الحملة لا ترسل
- تحقق من أن الحملة "Active"
- تحقق من الـ Backend logs
- تأكد من وجود أهداف
- تأكد من صلاحية الكوكيز

## التطوير

### تشغيل Frontend فقط
```bash
npm run dev
```

### تشغيل Backend فقط
```bash
npm run server
```

### Build للإنتاج
```bash
npm run build
```

## الترخيص
هذا المشروع للاستخدام التعليمي فقط.

⚠️ **تحذير**: استخدام هذا التطبيق قد يخالف شروط خدمة Twitter.

## الدعم
للمساعدة، راجع:
- `COOKIE_GUIDE_AR.md` - دليل الكوكيز
- `cok.md` - دليل المطور

---

**آخر تحديث**: 2025-01-10  
**الإصدار**: 1.0.0
